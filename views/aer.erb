<h1><%= @article[:titre] %></h1>
<p><%= @article[:contenu] %></p>

<h2>Commentaires</h2>
<% if @article[:commentaires] && @article[:commentaires].any? %>
  <% @article[:commentaires].each_with_index do |commentaire, index| %>
    <p><strong><%= commentaire[:auteur] %></strong> (<%= commentaire[:date] %>) :</p>
    <p><%= commentaire[:contenu] %></p>
    
    <form action="/article/<%= @article[:id] %>/modifier_commentaire/<%= index %>" method="get" style="display:inline;">
      <button type="submit">Modifier</button>
    </form>
    
    <form action="/article/<%= @article[:id] %>/supprimer_commentaire/<%= index %>" method="post" style="display:inline;">
      <button type="submit" onclick="return confirm('Supprimer ce commentaire ?');">Supprimer</button>
    </form>
  <% end %>
<% else %>
  <p>Aucun commentaire pour cet article.</p>
<% end %>

<h3>Ajouter un commentaire</h3>
<form action="/article/<%= @article[:id] %>/commentaire" method="post">
  <label for="auteur">Votre nom :</label>
  <input type="text" name="auteur" required>

  <label for="contenu">Votre commentaire :</label>
  <textarea name="contenu" required></textarea>

  <button type="submit">Envoyer</button>
</form>
